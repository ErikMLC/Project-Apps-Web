<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Contacto</title>

    <link rel="stylesheet" href="Frontend/assets/styles/styles.css">

    <!-- Font Awesome link -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- Boostrap link -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous" />

    <style>
        .initial-title {
            text-align: center;
        }

        .container-contact {
            width: 100%;
            max-width: 600px;
            margin: 0 auto;
        }

        .container-form-contact {
            padding: 20px;
            border-radius: 10px;
        }

        .container-form-contact>input,
        .container-form-contact>textarea {
            width: 100%;
            padding: 12px;
            margin: 4px 0;
            display: inline-block;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
        }

        .container-form-contact>input[type="submit"] {
            width: 100%;
            background-color: #4caf50;
            color: white;
            padding: 14px 20px;
            margin: 8px 0;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        .container-form-contact>input[type="submit"]:hover {
            background-color: #45a049;
        }

        #fnames,
        #femail,
        #fphone {
            margin-bottom: 20px;
        }

        .subtitle-appointment {
            margin-top: 15px;
        }

        .container-form-contact>.form-check {
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
        }

        .container-form-contact>.form-check>.form-check-input {
            margin-right: 10px;
        }

        #button-submit-contact {
            display: block;
            margin: 20px auto 0;
            /* Añade 20px de espacio arriba y centra horizontalmente */
        }
    </style>
</head>

<body class="body-contact">
    <header class="text-center mb-4">
        <h1>MENTE SANA EN CUERPO SANO</h1>
        <div class="container mt-3">
            <nav class="navbar navbar-expand-lg navbar-light bg-light">
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
                    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav mx-auto">
                        <li class="nav-item">
                            <a class="nav-link" aria-current="page" href="Frontend/index.html">Inicio</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="Frontend/about.html">Sobre Nosotros</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" aria-current="page" href="Frontend/FAQ.html">Preguntas Frecuentes</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" href="#">Contacto</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="Frontend/blog.html">Blog</a>
                        </li>
                    </ul>
                </div>
            </nav>
            <img class="logoImagen3" src="Frontend/assets/images/Logo3.png" alt="..." width="150px">
        </div>
    </header>

    <!-- Titulo -->
    <h1 class="initial-title">Comunícate con Nosotros</h1>

    <div class="container-contact">
        <!-- Nombres completos -->
        <form class="container-form-contact">
            <div class="form-group">
                <label for="fnames">Nombres Completos</label>
                <input type="text" class="form-control" id="fnames" name="names"
                    placeholder="Ej: Luis Joel Guingla Verdezoto" required>
            </div>
            <!-- Email -->
            <div class="form-group">
                <label for="femail">Email</label>
                <input type="email" class="form-control" id="femail" name="email"
                    placeholder="Ej: luis.guingla@epn.edu.ec" required>
            </div>

            <!-- Telefono -->
            <div class="form-group">
                <label for="fphone">Numero de teléfono</label>
                <input type="tel" class="form-control" id="fphone" name="phone" placeholder="Ej: 0999999999">
            </div>

            <h6 class="subtitle-appointment">Agenda una cita</h6>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="appointmentTime" value="1" id="flexRadioDefault1">
                <label class="form-check-label" for="flexRadioDefault1">
                    9am - 11am
                </label>
            </div>

            <div class="form-check">
                <input class="form-check-input" type="radio" name="appointmentTime" value="2" id="flexRadioDefault2">
                <label class="form-check-label" for="flexRadioDefault2">
                    11am - 1pm
                </label>
            </div>

            <div class="form-check">
                <input class="form-check-input" type="radio" name="appointmentTime" value="3" id="flexRadioDefault3">
                <label class="form-check-label" for="flexRadioDefault3">
                    1pm - 3pm
                </label>
            </div>

            <div class="form-check">
                <input class="form-check-input" type="radio" name="appointmentTime" value="4" id="flexRadioDefault4">
                <label class="form-check-label" for="flexRadioDefault4">
                    3pm - 5pm
                </label>
            </div>

            <div class="form-check">
                <input class="form-check-input" type="radio" name="appointmentTime" value="5" id="flexRadioDefault5">
                <label class="form-check-label" for="flexRadioDefault5">
                    5pm - 7pm
                </label>
            </div>

            <!-- Mensaje -->
            <div class="form-group">
                <label for="fmessage">Mensaje o Consulta</label>
                <textarea id="message" class="form-control" id="fmessage" name="message"
                    placeholder="Ingrese el contenido de su consulta" style="height:200px"></textarea>
            </div>

            <!-- Boton enviar formulario -->
            <!-- <input type="submit" class="btn btn-primary" value="Enviar" id="button-submit-contact"> -->
            <button id="button-submit-contact" type="button" class="btn btn-primary">Enviar</button>

        </form>
    </div>

    <!-- Caja de chat -->
    <div class="chat-box">
        ¡Iniciemos!
    </div>

    <!-- Botón fijo de acción (bombita) -->
    <a href="https://wa.link/9dxdn1" class="floating-button">
        <img src="Frontend/assets/images/iconowhats.png" alt="..." width="55">
    </a>

    <footer class="mt-4">
        <div class="container text-center">
            <div class="footer-social-icons mb-3">
                <a href="https://www.tiktok.com/@nutrithick?_t=8kTAQjoZj1i&_r=1"><i class="fab fa-tiktok"></i>
                    TikTok</a>
                <a href="https://www.instagram.com/nutrichicalimentos?igsh=YXo5bzI5Ym03Nzhp"><i
                        class="fab fa-instagram"></i>
                    Instagram</a>
                <a href="https://www.facebook.com/profile.php?id=100068208544961&mibextid=ZbWKwL"><i
                        class="fab fa-facebook"></i> Facebook</a>
                <a href="https://youtube.com/@NutriChic?si=NXHkQviZPD9MRbTv"><i class="fab fa-youtube"></i> YouTube</a>
            </div>
            <p>©2024 Aplicaciones Web</p>
            <p>All rights reserved.</p>
        </div>
    </footer>


    <!-- Boostrap script -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src=" https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.1/js/jquery.dataTables.min.js"></script>

    <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.2/moment.min.js"></script>
    <script>
        $('#button-submit-contact').click(function () {
            enviarMensajeContacto();
        });

        function enviarMensajeContacto() {
            // Obtener los valores de los campos del formulario
            var nombresPaciente = $('#fnames').val();
            var emailPaciente = $('#femail').val();
            var telefonoPaciente = $('#fphone').val();
            var idHorarioSeleccionado = $('input[type=radio][name=appointmentTime]:checked').val();
            var mensaje = $('#message').val();

            // Validar campos obligatorios
            if (nombresPaciente === '' || emailPaciente === '' || mensaje === '') {
                return;
            }

            // Crear objeto con los datos del formulario
            var mensajeContacto = {
                nombresPaciente: nombresPaciente,
                emailPaciente: emailPaciente,
                telefonoPaciente: telefonoPaciente,
                horario: idHorarioSeleccionado,
                mensaje: mensaje
            };

            // Enviar los datos al servidor mediante una solicitud AJAX
            $.ajax({
                url: 'http://127.0.0.1:8080/contacto',
                method: 'POST',
                data: JSON.stringify(mensajeContacto),
                dataType: 'text',
                contentType: 'application/json'
            })
                .done(function (data) {
                    console.log(data);
                    // $('#alertSuccess').show();
                    // Limpiar campos del formulario después de enviar con éxito
                    $('#fnames').val('');
                    $('#femail').val('');
                    $('#fphone').val('');
                    $('input[type=radio][name=appointmentTime]').prop('checked', false);
                    $('#message').val('');
                })
                .fail(function (error) {
                    console.log(error);
                    // $('#alertError').show();
                });
        }
    </script>

</body>

</html>